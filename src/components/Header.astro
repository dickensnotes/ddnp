---
import { Icon } from "astro-icon";
const links = [
  {
    href: "/showcase",
    text: "Showcase",
  },
  {
    href: "https://docs.astro.build",
    text: "Docs",
  },
  {
    href: "/themes",
    text: "Themes",
  },
  {
    href: "/integrations",
    text: "Integrations",
  },
  {
    href: "/blog",
    text: "Blog",
  },
];
const formatter = Intl.NumberFormat("en", {
  notation: "compact",
  maximumFractionDigits: 1,
});
---

<script>
  const header = document.getElementById("navheader");
  const menuBtn = document.getElementById("menubtn");
  const logo = document.getElementById("navlogo");
  menuBtn.onclick = () => header.classList.toggle("open");
  if (matchMedia("(pointer:fine)").matches) {
    logo.addEventListener("contextmenu", (event) => {
      event.preventDefault();
      window.location.href = "/press";
    });
  }
</script>

<header id="navheader" class="fixed top-0 left-0 right-0 z-20">
  <div class="bg-neutral-900 text-neutral-400 py-4">
    <nav
      class="relative max-w-7xl mx-auto flex items-center justify-between px-4 sm:px-6"
      aria-label="Global"
    >
      <div class="flex flex-col sm:flex-row items-center flex-1 gap-y-6">
        <div class="flex items-center justify-between w-full md:w-auto -m-2">
          <a
            href="/"
            class="flex gap-x-1 text-neutral-50 font-semibold text-xl"
            id="navlogo"
          >
            <Icon
              name="full-logo-dark"
              height={32}
              class="-mb-1"
              aria-hidden="true"
            />
            <span class="sr-only">Digital Dickens Notes Project</span>
          </a>
          <div class="-mr-2 sm:-mr-6 flex items-center md:hidden">
            <button
              type="button"
              id="menubtn"
              class="rounded-md p-2 inline-flex items-center justify-center hover:bg-neutral-600 hover:text-neutral-100 focus:outline-none focus:ring-2 focus-ring-inset focus:ring-neutral-50"
              aria-expanded="false"
            >
              <span class="sr-only">Open main menu</span>
              <Icon
                pack="heroicons-outline"
                name="menu"
                size={24}
                aria-hidden="true"
              />
            </button>
          </div>
        </div>
        <div
          id="menu"
          class="flex flex-col sm:flex-row gap-x-8 gap-y-4 sm:ml-10 text-center sm:text-left sm:pb-0"
        >
          {
            links.map(({ href, text }) => (
              <a
                href={href}
                class="text-base text-neutral-50 hover:text-neutral-300"
              >
                {text}
              </a>
            ))
          }
        </div>
      </div>
    </nav>
  </div>
</header>

<style>
  @media (max-width: 768px) {
    header:not(.open) :is(#menu) {
      @apply hidden;
    }
    header.open {
      @apply bg-neutral-900;
    }
  }
</style>
